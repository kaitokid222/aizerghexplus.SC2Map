<?xml version="1.0" encoding="utf-8"?>
<Catalog>
    <CEffectApplyBehavior id="ShareLife">
        <EditorCategories value=""/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="ShareLifeCost">
        <EditorCategories value=""/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Life">
            <ChangeFraction value="-0.05"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ShareLifeHeal">
        <EditorCategories value=""/>
        <VitalArray index="Life">
            <Change value="0">
                <AccumulatorArray value="ShareLife"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectRemoveBehavior id="ShareLifeRemove">
        <EditorCategories value="Race:Terran"/>
        <BehaviorLink value="ShareLife"/>
    </CEffectRemoveBehavior>
    <CEffectEnumArea id="ShareLifeSearch">
        <EditorCategories value=""/>
        <SearchFilters value="Ground,Visible;Self,Neutral,Enemy,Structure,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <AreaArray Radius="4" Effect="ShareLifeHeal"/>
    </CEffectEnumArea>
    <CEffectSet id="ShareLifeSet">
        <EditorCategories value=""/>
        <EffectArray value="ShareLifeCost"/>
        <EffectArray value="ShareLifeSearch"/>
    </CEffectSet>
    <CAbilEffectInstant id="ShareLife">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="ShareLife"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="ShareLifeCancel">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="ShareLifeRemove"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Cancel" Requirements="ShareLifeCancel"/>
    </CAbilEffectInstant>
    <CButton id="ShareLife">
        <Icon value="Assets\Textures\btn-ability-stetmann-stetzonegenerator-health.dds"/>
    </CButton>
    <CActorUnit id="Stetmann" parent="GenericUnitStandard" unitName="StetmannZergHex">
        <On Terms="Abil.BonesHeal.SourceChannelStart" Send="$Spell PlayForever"/>
        <On Terms="Abil.BonesHeal.SourceChannelStop" Send="AnimClear Spell"/>
        <On Terms="Behavior.OutOfCombatEnergyRegen.On" Send="AnimBracketStart Regen Cover,Start Cover Cover,End"/>
        <On Terms="Behavior.OutOfCombatEnergyRegen.Off" Send="AnimBracketStop Regen"/>
        <On Terms="Behavior.ShareLife.On" Send="AnimBracketStart ShareLife Stand,Unpowered,Start Stand,Unpowered Stand,Unpowered,End"/>
        <On Terms="Behavior.ShareLife.Off" Send="AnimBracketStop ShareLife"/>
        <Model value="MedicStetmann"/>
        <DeathArray index="Normal" SoundLink="Stetmann_Death"/>
        <DeathArray index="Blast" ModelLink="MedicDeath"/>
        <DeathArray index="Fire" ModelLink="MedicStetmannDeathFire"/>
        <PortraitModel value="StetmannMedicPortrait"/>
        <WalkAnimMoveSpeed value="2.25"/>
        <BarOffset value="60"/>
        <BarWidth value="50"/>
        <GroupIcon>
            <Image value="Assets\Textures\Wireframe-Terran-stetmann.dds"/>
        </GroupIcon>
        <HeroIcon value="Assets\Textures\ui-heroicon-stetmann.dds"/>
        <HighlightTooltip value="Unit/Name/Stetmann"/>
        <LifeArmorIcon value="Assets\Textures\btn-upgrade-terran-infantryarmorlevel0.dds"/>
        <SoundArray index="Ready" value="Stetmann_Ready"/>
        <SoundArray index="Help" value="Stetmann_Help"/>
        <SoundArray index="What" value="Stetmann_What"/>
        <SoundArray index="Yes" value="Stetmann_Yes"/>
        <SoundArray index="Attack" value="Stetmann_Attack"/>
        <SoundArray index="Pissed" value="Stetmann_Pissed"/>
        <UnitBorderNormalColor value="150,150,150"/>
        <UnitBorderSubgroupColor value="255,255,255"/>
        <UnitIcon value="Assets\Textures\BTN-Unit-Terran-MedicStetmann.dds"/>
        <UnitKillRank Text="UnitKillRank/Stetmann"/>
        <Wireframe>
            <Image value="Assets\Textures\Wireframe-Terran-stetmann.dds"/>
        </Wireframe>
    </CActorUnit>
    <CUnit id="StetmannZergHex">
        <DeathRevealRadius value="3"/>
        <Race value="Terr"/>
        <Mob value="Campaign"/>
        <FlagArray index="UseLineOfSight" value="1"/>
        <FlagArray index="ArmySelect" value="1"/>
        <PlaneArray index="Ground" value="1"/>
        <Collide index="Ground" value="1"/>
        <Collide index="Small" value="1"/>
        <Attributes index="Light" value="1"/>
        <Attributes index="Biological" value="1"/>
        <LifeStart value="150"/>
        <LifeMax value="150"/>
        <LifeArmor value="1"/>
        <LifeArmorName value="Unit/LifeArmorName/TerranInfantryArmor"/>
        <EnergyStart value="50"/>
        <EnergyMax value="250"/>
        <EnergyRegenRate value="0.5625"/>
        <Speed value="2.25"/>
        <Acceleration value="1000"/>
        <LateralAcceleration value="46.0625"/>
        <Sight value="10"/>
        <CostCategory value="Army"/>
        <CostResource index="Minerals" value="50"/>
        <CostResource index="Vespene" value="25"/>
        <RepairTime value="25"/>
        <AttackTargetPriority value="19"/>
        <DamageDealtXP value="1"/>
        <DamageTakenXP value="1"/>
        <KillXP value="15"/>
        <AbilArray Link="stop"/>
        <AbilArray Link="move"/>
        <AbilArray Link="ShareLife"/>
        <AbilArray Link="ShareLifeCancel"/>
        <CardLayouts>
            <LayoutButtons Face="Move" Type="AbilCmd" AbilCmd="move,Move" Row="0" Column="0"/>
            <LayoutButtons Face="Stop" Type="AbilCmd" AbilCmd="stop,Stop" Row="0" Column="1"/>
            <LayoutButtons Face="MoveHoldPosition" Type="AbilCmd" AbilCmd="move,HoldPos" Row="0" Column="2"/>
            <LayoutButtons Face="Attack" Type="AbilCmd" AbilCmd="attack,Execute" Row="0" Column="4"/>
            <LayoutButtons Face="AcquireMove" Type="AbilCmd" AbilCmd="move,AcquireMove" Row="0" Column="4"/>
            <LayoutButtons Face="MovePatrol" Type="AbilCmd" AbilCmd="move,Patrol" Row="0" Column="3"/>
            <LayoutButtons Face="ShareLife" Type="AbilCmd" AbilCmd="ShareLife,Execute" Row="2" Column="0"/>
            <LayoutButtons Face="Cancel" Type="AbilCmd" AbilCmd="ShareLifeCancel,Execute" Row="2" Column="4"/>
        </CardLayouts>
        <InnerRadius value="0.5"/>
        <CargoSize value="1"/>
        <ScoreMake value="125"/>
        <ScoreKill value="250"/>
        <SubgroupPriority value="47"/>
        <EditorCategories value="ObjectType:Hero"/>
        <TacticalAI value="Bones"/>
        <GlossaryCategory value="Unit/Category/TerranUnits"/>
        <GlossaryPriority value="330"/>
        <HotkeyCategory value="Unit/Category/TerranStory"/>
        <KillDisplay value="Always"/>
        <RankDisplay value="Always"/>
        <Fidget>
            <ChanceArray index="Anim" value="33"/>
            <ChanceArray index="Idle" value="33"/>
            <ChanceArray index="Turn" value="33"/>
        </Fidget>
    </CUnit>
    <CBehaviorBuff id="ShareLife">
        <InfoIcon value="Assets\Textures\btn-ability-stetmann-stetzonegenerator-health.dds"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Period value="0.5"/>
        <PeriodicEffect value="ShareLifeSet"/>
        <Modification MoveSpeedMaximum="0">
            <AbilClassDisableArray index="CAbilAttack" value="1"/>
            <AbilClassDisableArray index="CAbilEffectTarget" value="1"/>
            <AbilClassDisableArray index="CAbilMove" value="1"/>
            <AbilClassDisableArray index="CAbilResearch" value="1"/>
            <AbilClassDisableArray index="CAbilStop" value="1"/>
        </Modification>
    </CBehaviorBuff>
</Catalog>
